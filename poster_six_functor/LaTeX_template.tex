
\documentclass[UTF8]{amsart}
%Typical documenttypes: article/book
%some examples:
%\documentclass[reqno,11pt]{book}   %%%for books
%\documentclass[]{minimal}			%%%for Minimal Working Example


%for beamers, you have to change a lot. Especially, remove the package enumitem!!!



%%%%%%%%%%%%%%%%%%%% setting for fast compiling

%\special{dvipdfmx:config z 0}		% no compression

\includeonly{chapters/chapter9}		% In practice, use an empty document called "chapter9"	% usually for printing books






%%%%%%%%%%%%%%%%%%%% here we include packages

%%%basic packages for math articles
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage[shortlabels]{enumitem}	% It supersedes both enumerate and mdwlist. The package option shortlabels is included to configure the labels like in enumerate.

%%%packages for special symbols
\usepackage{pifont}					% Access to PostScript standard Symbol and Dingbats fonts
\usepackage{wasysym}				% additional characters
\usepackage{bm}						% bold fonts: \bm{...}
\usepackage{extarrows}				% may be replaced by tikz-cd
%\usepackage{unicode-math}			% unicode maths for math fonts, now I don't know how to include it
%\usepackage{ctex}					% Chinese characters, huge difference.
\usepackage{stackengine}

%%%basic packages for fancy electronic documents
\usepackage[colorlinks]{hyperref}
\usepackage[table,hyperref]{xcolor} 			% before tikz-cd. 
%\usepackage[table,hyperref,monochrome]{xcolor}	% disable colored output (black and white)

%%%packages for figures and tables (general setting)
\usepackage{float}				%Improved interface for floating objects
\usepackage{caption,subcaption}
\usepackage{adjustbox}			% for me it is usually used in tables 
\usepackage{stackengine}		%baseline changes

%%%packages for commutative diagrams
\usepackage{tikz-cd}
\usepackage{quiver}			% see https://q.uiver.app/

%%%packages for pictures
\usepackage[width=0.5,tiewidth=0.7]{strands}
\usepackage{graphicx}			% Enhanced support for graphics

%%%packages for tables and general settings
\usepackage{array}
\usepackage{makecell}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{diagbox}
\usepackage{longtable}

%%%packages for ToC, LoF and LoT







 %https://tex.stackexchange.com/questions/58852/possible-incompatibility-with-enumitem










%%%%%%%%%%%%%%%%%%%% here we include theoremstyles

\numberwithin{equation}{section}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]

\newtheorem{setting}[theorem]{Setting}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{conjecture}[theorem]{Conjecture}

\newtheorem{claim}[theorem]{Claim}
\newtheorem{eg}[theorem]{Example}
\newtheorem{ex}[theorem]{Exercise}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{ques}[theorem]{Question}
\newtheorem{warning}[theorem]{Warning}



\newtheorem*{bbox}{Black box}
\newtheorem*{notation}{Conventions and Notations}


\numberwithin{equation}{section}


\theoremstyle{remark}

\newtheorem{remark}[theorem]{Remark}
\newtheorem*{remarks}{Remarks}

%%% for important theorems
%\newtheoremstyle{theoremletter}{4mm}{1mm}{\itshape}{ }{\bfseries}{}{ }{}
%\theoremstyle{theoremletter}
%\newtheorem{theoremA}{Theorem}
%\renewcommand{\thetheoremA}{A}
%\newtheorem{theoremB}{Theorem}
%\renewcommand{\thetheoremB}{B}







%%%%%%%%%%%%%%%%%%%% here we declare some symbols

%%%%%%%DeclareMathOperator
%see here for why newcommand is better for DeclareMathOperator: https://tex.stackexchange.com/questions/67506/newcommand-vs-declaremathoperator

%%%%%basic symbols. Keep them!

%%%symbols for sets and maps
\DeclareMathOperator{\pt}{\operatorname{pt}}	%points. Other possibilities are \{pt\}, \{*\}, pt, * ...
\DeclareMathOperator{\Id}{\operatorname{Id}}	%identity in groups.
\DeclareMathOperator{\Img}{\operatorname{Im}}

\DeclareMathOperator{\Ob}{\operatorname{Ob}}
\DeclareMathOperator{\Mor}{\operatorname{Mor}}	%difference of Mor and Hom: Hom is usually for abelian categories
\DeclareMathOperator{\Hom}{\operatorname{Hom}}	\DeclareMathOperator{\End}{\operatorname{End}}
\DeclareMathOperator{\Aut}{\operatorname{Aut}}

%%%symbols for linear algebras and 
%%linear algebras
\DeclareMathOperator{\tr}{\operatorname{tr}}
\DeclareMathOperator{\diag}{\operatorname{diag}}	%for diagonal matrices

%%abstract algebras
\DeclareMathOperator{\ord}{\operatorname{ord}}
\DeclareMathOperator{\gr}{\operatorname{gr}}
\DeclareMathOperator{\Frac}{\operatorname{Frac}}

%%%symbols for basic geometries
\DeclareMathOperator{\vol}{\operatorname{vol}}	%volume
\DeclareMathOperator{\dist}{\operatorname{dist}}
\DeclareMathOperator{\supp}{\operatorname{supp}}

%%%symbols for category
%%names of categories
\DeclareMathOperator{\Mod}{\operatorname{Mod}}
\DeclareMathOperator{\Vect}{\operatorname{Vect}}


%%%symbols for homological algebras
\DeclareMathOperator{\Tor}{\operatorname{Tor}}
\DeclareMathOperator{\Ext}{\operatorname{Ext}}
\DeclareMathOperator{\gldim}{\operatorname{gl.dim}}
\DeclareMathOperator{\projdim}{\operatorname{proj.dim}}
\DeclareMathOperator{\injdim}{\operatorname{inj.dim}}
\DeclareMathOperator{\rad}{\operatorname{rad}}


%%%symbols for algebraic groups
\DeclareMathOperator{\GL}{\operatorname{GL}}
\DeclareMathOperator{\SL}{\operatorname{SL}}

%%%symbols for typical varieties
\DeclareMathOperator{\Gr}{\operatorname{Gr}}
\DeclareMathOperator{\Flag}{\operatorname{Flag}}

%%%symbols for basic algebraic geometry
\DeclareMathOperator{\Spec}{\operatorname{Spec}}
\DeclareMathOperator{\Coh}{\operatorname{Coh}}
\newcommand{\Dcoh}{\mathcal{D}_{\operatorname{Coh}}}%%%This one shows the difference between \DeclareMathOperator and \newcommand
\DeclareMathOperator{\Pic}{\operatorname{Pic}}
\DeclareMathOperator{\Jac}{\operatorname{Jac}}

%%%%%advanced symbols. Choose the part you need!

%%%symbols for algebraic representation theory
\DeclareMathOperator{\ind}{\operatorname{ind}}	%\ind(Q) means the set of  equivalence classes of finite dimensional indecomposable representations
\DeclareMathOperator{\Res}{\operatorname{Res}}
\DeclareMathOperator{\Ind}{\operatorname{Ind}}
\DeclareMathOperator{\cInd}{\operatorname{c-Ind}}


\DeclareMathOperator{\Rep}{\operatorname{Rep}}
\DeclareMathOperator{\rep}{\operatorname{rep}} %usually rep means the category of finite dimensional representations, while Rep means the category of representations.
\DeclareMathOperator{\Irr}{\operatorname{Irr}}
\DeclareMathOperator{\irr}{\operatorname{irr}}
\DeclareMathOperator{\Adm}{\operatorname{\Pi}}
\DeclareMathOperator{\Char}{\operatorname{Char}}
\DeclareMathOperator{\WDrep}{\operatorname{WDrep}}

%%%symbols for algebraic topology
\DeclareMathOperator{\EGG}{\operatorname{E}\!}
\DeclareMathOperator{\BGG}{\operatorname{B}\!}

\DeclareMathOperator{\chern}{\operatorname{ch}^{*}}
\DeclareMathOperator{\Td}{\operatorname{Td}}
\DeclareMathOperator{\AS}{\operatorname{AS}}	%Atiyah--Segal completion theorem 

%%%symbols for Auslander--Reiten theory 
\DeclareMathOperator{\Modup}{\overline{\operatorname{mod}}}
\DeclareMathOperator{\Moddown}{\underline{\operatorname{mod}}}
\DeclareMathOperator{\Homup}{\overline{\operatorname{Hom}}}
\DeclareMathOperator{\Homdown}{\underline{\operatorname{Hom}}}


%%%symbols for operad
\DeclareMathOperator{\Com}{\operatorname{\mathcal{C}om}}
\DeclareMathOperator{\Ass}{\operatorname{\mathcal{A}ss}}
\DeclareMathOperator{\Lie}{\operatorname{\mathcal{L}ie}}
\DeclareMathOperator{\calEnd}{\operatorname{\mathcal{E}nd}} %cal=\mathcal


%%%%%personal symbols. Use at your own risk!

%%%symbols only for master thesis
\DeclareMathOperator{\ptt}{\operatorname{par}}	%the partition map
\DeclareMathOperator{\str}{\operatorname{str}}	%strict case
\DeclareMathOperator{\RRep}{\widetilde{\operatorname{Rep}}}
\DeclareMathOperator{\Rpt}{\operatorname{R}}
\DeclareMathOperator{\Rptc}{\operatorname{\mathcal{R}}}
\DeclareMathOperator{\Spt}{\operatorname{S}}
\DeclareMathOperator{\Sptc}{\operatorname{\mathcal{S}}}
\DeclareMathOperator{\Kcurl}{\operatorname{\mathcal{K}}}
\DeclareMathOperator{\Hcurl}{\operatorname{\mathcal{H}}}
\DeclareMathOperator{\eu}{\operatorname{eu}}
\DeclareMathOperator{\Eu}{\operatorname{Eu}}
\DeclareMathOperator{\dimv}{\operatorname{\underline{\mathbf{dim}}}}
\DeclareMathOperator{\St}{\mathcal{Z}}

%%%%%symbols which haven't been classified. Add your own math operators here!


\DeclareMathOperator{\Modr}{\operatorname{-Mod}}





%%%%%%%newcommand
\DeclareMathOperator{\sky}{\operatorname{sky}}
\DeclareMathOperator{\Hcohom}{\operatorname{H}}
\DeclareMathOperator{\BM}{\operatorname{BM}}
\DeclareMathOperator{\cpt}{\operatorname{c}}
\DeclareMathOperator{\Or}{\operatorname{Or}}
\DeclareMathOperator{\constructable}{\operatorname{cons}}


%%%%%%%%%%%%%%%%%%%% here we make some blocks for special features. 

%%%% todo notes %%%%
\usepackage[colorinlistoftodos,textsize=footnotesize]{todonotes}
\setlength{\marginparwidth}{2.5cm}
\newcommand{\leftnote}[1]{\reversemarginpar\marginnote{\footnotesize #1}}
\newcommand{\rightnote}[1]{\normalmarginpar\marginnote{\footnotesize #1}\reversemarginpar}









%%%%%%%%%%%%%%%%%%%% here we make some global settings. Understand everything here before you make a document!

\usepackage[a4paper,left=3cm,right=3cm,bottom=4cm]{geometry}
\usepackage{indentfirst}	% Indent first paragraph after section header

\setcounter{tocdepth}{2}


%https://latexref.xyz/_005cparindent-_0026-_005cparskip.html
%\setlength{\parindent}{15pt}	
%\setlength{\parskip}{0pt plus1pt}

%\setlength\intextsep{0cm}
%\setlength\textfloatsep{0cm}
\def\arraystretch{1}
%\setcounter{secnumdepth}{3}

\allowdisplaybreaks


\begin{document}

% The beginning depends on the documentclass. Rewrite this part if you use different documentclass!
\date{\today}

\title
{\LaTeX\;Template
}
\author{Xiaoxiang Zhou}
\address{School of Mathematical Sciences\\
University of Bonn\\
Bonn, 53115\\ Germany\\} 
\email{email:xx352229@mail.ustc.edu.cn}


\maketitle
\tableofcontents


\section{A small toolkit}

$f:Y \longrightarrow \pt$ $f: p \hookrightarrow X$

$f^*$ constant sheaf $\mathcal{F}_p$

$Rf_*$ cohomology $\sky_p(\mathbb{Q})$

$Rf_!$ cpt supp cohomology $\sky_p(\mathbb{Q})$

$f^!$ orientation sheaf $[n]$ $\mathcal{F}_p[-n]$

\begin{table}[]
\centering
\begin{tabular}{c|c|c}
\hline
 & $f:Y \longrightarrow \pt$ & $f: p \hookrightarrow X$ \\ \hline
$f^*$ & constant sheaf & $\mathcal{F}_p$ \\ \hline
$Rf_*$ & cohomology & $\sky_p(\mathbb{Q})$ \\ \hline
$Rf_!$ & cpt supp cohomology & $\sky_p(\mathbb{Q})$ \\ \hline
$f^!$ & orientation sheaf & $[n]$ $\mathcal{F}_p[-n]$ \\ \hline
\end{tabular}
\end{table}

For $f^!$, assume $Y,X$ are manifolds of dimension $n$.

$j_!j^* \mathcal{F}$ $\mathcal{F}$ $i_!i^*\mathcal{F}$

% https://q.uiver.app/#q=WzAsMyxbMCwwLCJaIl0sWzEsMCwiWCJdLFsyLDAsIlUiXSxbMCwxLCJpIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMiwxLCJqIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJib3R0b20ifX19XV0=
\[\begin{tikzcd}
	Z & X & U
	\arrow["i", hook, from=1-1, to=1-2]
	\arrow["j"', hook', from=1-3, to=1-2]
\end{tikzcd}\]

% https://q.uiver.app/#q=WzAsMyxbMCwwLCJEKFopIl0sWzEsMCwiRChYKSJdLFsyLDAsIkQoVSkiXSxbMCwxLCJpXyo9aV8hIl0sWzEsMiwial4qPWpeISJdLFsyLDEsImpfISIsMix7ImN1cnZlIjozfV0sWzEsMCwiaV4qIiwyLHsiY3VydmUiOjN9XSxbMiwxLCJSal8qIiwwLHsiY3VydmUiOi0yfV0sWzEsMCwiaV4hIiwwLHsiY3VydmUiOi0yfV1d
\[\begin{tikzcd}
	{D(Z)} & {D(X)} & {D(U)}
	\arrow["{i_*=i_!}", from=1-1, to=1-2]
	\arrow["{i^*}"', curve={height=18pt}, from=1-2, to=1-1]
	\arrow["{i^!}", curve={height=-12pt}, from=1-2, to=1-1]
	\arrow["{j^*=j^!}", from=1-2, to=1-3]
	\arrow["{j_!}"', curve={height=18pt}, from=1-3, to=1-2]
	\arrow["{Rj_*}", curve={height=-12pt}, from=1-3, to=1-2]
\end{tikzcd}\]

% https://q.uiver.app/#q=WzAsNCxbMCwwLCJqXyFqXiogXFxtYXRoY2Fse0Z9Il0sWzEsMCwiXFxtYXRoY2Fse0Z9Il0sWzIsMCwiaV8haV4qXFxtYXRoY2Fse0Z9Il0sWzMsMF0sWzAsMV0sWzEsMl0sWzIsMywiKzEiXV0=
\[\begin{tikzcd}
	{j_!j^* \mathcal{F}} & {\mathcal{F}} & {i_!i^*\mathcal{F}} & {}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["{+1}", from=1-3, to=1-4]
\end{tikzcd}\]

% https://q.uiver.app/#q=WzAsMyxbMSwwLCJcXG90aW1lcyJdLFswLDEsImZeKiJdLFsyLDEsImZfISJdLFswLDEsImZeKigtXFxvdGltZXMgLSkiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzAsMiwiXFx0ZXh0e3Byb2ogZm9ybXVsYX0iLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzEsMiwiXFx0ZXh0e2Jhc2UgY2hhbmdlfSIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XV0=
\[\begin{tikzcd}
	& \otimes \\[8mm]
	{f^*} && {f_!}
	\arrow["{f^*(-\otimes -)}"', no head, from=1-2, to=2-1]
	\arrow["{\text{proj formula}}", no head, from=1-2, to=2-3]
	\arrow["{\text{base change}}"', no head, from=2-1, to=2-3]
\end{tikzcd}\]

% https://q.uiver.app/#q=WzAsNSxbMiwwLCJcXG90aW1lcyJdLFsxLDEsImZeKiJdLFszLDEsImZfISJdLFs0LDEsIlxcOyJdLFswLDEsIlxcOyJdLFswLDEsImZeKigtXFxvdGltZXMgLSkiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzAsMiwiXFx0ZXh0e3Byb2ogZm9ybXVsYX0iLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzEsMiwiXFx0ZXh0e2Jhc2UgY2hhbmdlfSIsMix7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XV0=
\[\begin{tikzcd}
	&& \otimes \\[8mm]
	{\;} & {f^*} && {f_!} & {\;}
	\arrow["{f^*(-\otimes -)}"', no head, from=1-3, to=2-2]
	\arrow["{\text{proj formula}}", no head, from=1-3, to=2-4]
	\arrow["{\text{base change}}"', no head, from=2-2, to=2-4]
\end{tikzcd}\]

\section{A Short List of Applications}

Assuming the six-functor formalism (and everything derived), let \( X \) be a smooth manifold of dimension \( n \).

1. Define four types of cohomology and the relative cohomology.
   Verify that:
$$\Hcohom^i_{\cpt}(X;\mathbb{Q}) \cong \Hcohom^i\left(\bar{X}, \{\infty \};\mathbb{Q}\right)$$
$$\Hcohom_i^{\BM}(X;\mathbb{Q}) \cong \Hcohom^{n-i}(X; \Or_X)$$
$$\Hcohom_i(X;\mathbb{Q}) \cong \Hcohom^{n-i}_{\cpt}(X; \Or_X)$$

   Also, define the cup and cap product structures.

2. Using the projection formula, show Poincaré duality:

$$\Hcohom^i_{\cpt}(X;\mathbb{Q})^* \cong \Hcohom^{n-i}(X; \Or_X)$$
$$\Hcohom^i(X;\mathbb{Q}) \cong \Hcohom^{n-i}_{\cpt}(X; \Or_X)^*$$


3. Derive the Gysin sequence for any oriented \( S^k \)-bundle \( \pi: E \longrightarrow B \):

% https://q.uiver.app/#q=WzAsNCxbMCwwLCJIXm4oQikiXSxbMSwwLCJIXm4oRSkiXSxbMiwwLCJIXntuLWt9KEIpIl0sWzMsMF0sWzAsMSwiXFxwaV4qIl0sWzEsMiwiXFxwaV8qIl0sWzIsMywiKzEiXSxbMiwzLCJldV97XFxwaX0iLDJdXQ==
\[\begin{tikzcd}
	{H^n(B)} & {H^n(E)} & {H^{n-k}(B)} & {}
	\arrow["{\pi^*}", from=1-1, to=1-2]
	\arrow["{\pi_*}", from=1-2, to=1-3]
	\arrow["{+1}", from=1-3, to=1-4]
	\arrow["{eu_{\pi}}"', from=1-3, to=1-4]
\end{tikzcd}\]

   Derive the Mayer-Vietoris sequence and the relative cohomology sequence, and verify the equivalence of different cohomology groups.

4. Compute the upper shriek for singular spaces.




\begin{equation*}
\begin{aligned}
  &\operatorname{H}^i(Y, \mathbb{Q}) &=\;& \operatorname{H}^i(Y, \underline{\mathbb{Q}}_Y)  &=\;& f_* \underline{\mathbb{Q}}_Y &=\;& f_* f^* \mathbb{Q}   \\ 
  &\operatorname{H}^i_c(Y, \mathbb{Q}) &=\;& \operatorname{H}^i_c(Y, \underline{\mathbb{Q}}_Y)  &=\;& f_! \underline{\mathbb{Q}}_Y &=\;& f_! f^* \mathbb{Q}   \\ 
  &\operatorname{H}_{-i}(Y, \mathbb{Q}) &=\;& \operatorname{H}^{n+i}_c(Y, \operatorname{Or}_Y)  &=\;& f_! \operatorname{Or}_Y[n] &=\;& f_! f^! \mathbb{Q}   \\ 
  &\operatorname{H}_{-i}^{\operatorname{BM}}(Y, \mathbb{Q}) &=\;& \operatorname{H}^{n+i}(Y, \operatorname{Or}_Y)  &=\;& f_* \operatorname{Or}_Y[n] &=\;& f_* f^! \mathbb{Q}   \\ 
\end{aligned}
\end{equation*}

six functor formalism $\hspace{10mm}\approx\hspace{10mm}$ cohomology theory

\section{perverse sheaf}

We will mix the usage of sheaves and complexes. For simplicity, let us fix a stratification $\mathcal{S}$:
\newcommand\largesubset{\mathrel{\scalebox{1.5}[1]{\(\subset\)}}}
$$\varnothing \overset{\;\,U_0}{\largesubset} Z_0 \overset{\;\,U_1}{\largesubset}\cdots  \overset{\;\,U_n}{\largesubset} Z_n = X$$
Denote $D_{\constructable,\mathcal{S}}^{b}(X)$ as the category of constructible sheaves over $X$ with respect to $\mathcal{S}$.

Roughly speaking, a perverse sheaf is a type of sheaf that lies between $\pi^* \mathbb{Q}$ and $\pi^! \mathbb{Q}$. More rigorously, a perverse sheaf is a complex that belongs to the heart of the perverse $t$-structure. We say that $\mathcal{F} \in D_{\constructable,\mathcal{S}}^{b}(X)$ is perverse if 
$$
\begin{cases}
\mathcal{H}^i\left(\iota_{U_j}^* \mathcal{F}\right) = 0, & \text{for any } i > -j\\
\mathcal{H}^i\left(\iota_{U_j}^! \mathcal{F}\right) = 0, & \text{for any } i < -j\\
\end{cases}
$$


To determine whether a complex $\mathcal{F}$ is perverse, one simply needs to complete the following table:

$\iota_{U_j}^*(\mathcal{F})$

The local system supported on $U_i$ (denoted by $\mathcal{L}$) converted to a perverse sheaf by truncations. This method is called Deligne's construction, and the constructed perverse sheaf is called the intersection cohomology complex(or the IC sheaf), denoted by $IC(\mathcal{L})$. IC sheaves are the simple objects in the category $Perv_{\mathcal{S}}(X)$.

\include{chapters/chapter9}

%\nocite{Eberhardt2022Koszul}	% cite articles which are not cited in the document yet

% Remember to protect the uppercase of people's name and LaTeX symbols

\bibliographystyle{plain}
\bibliography{reference}
\end{document}